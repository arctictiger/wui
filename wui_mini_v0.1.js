var wui={};wui.misc=(function(){var b=(function(){var c=function(h,g,f){var e=h.slice((f||g)+1||h.length);h.length=g<0?h.length+g:g;return h.push.apply(h,e)};var d=function(l,k,j){var e=0,h=l.length-1,f,g;while(e<=h){f=parseInt((e+h)/2,10);g=j(l[f],k);if(g<0){e=f+1;continue}if(g>0){h=f-1;continue}return f}return null};return{remove:c,binarySearch:d}})();var a=(function(){var d=(function(){var e=[];return function(l,m,g){var f=false;for(var h=0;h<e.length;h++){if(e[h]===l){f=true;break}}if(!f){var j=document.createElement("script");j.src=l;j.id=l;j.type="text/javascript";j.onload=function(){if(m){m();e.push(l)}};document.getElementsByTagName("head")[0].appendChild(j);if(g){var k=function(){var i=document.getElementById(l);i.parentNode.removeChild(i)};setTimeout(k,g)}}else{if(m){m()}}}})();var c=(function(){var e=0;return function(g,j){var f=e;window["jsonp"+f]=function(k){if(j){j(k)}};var h=document.createElement("script");var i=g.indexOf("?")>0?"&":"?";h.src=g+i+"callback=jsonp"+f;h.type="text/javascript";h.onload=function(){window["jsonp"+f]=undefined;document.getElementsByTagName("head")[0].removeChild(h)};document.getElementsByTagName("head")[0].appendChild(h);e++}})();return{loadScript:d,jsonpLoader:c}})();return{script:a,array:b}})();wui.controls=(function(){var f=(function(){var i=0;return function(r){var u=i;i+=1;var x=r?r:"div";var l=document.createElement(x);var t=function(){l.style.display="block"};var o=function(){l.style.display="none"};var n=function(){if(l.style.display==="none"){t()}else{o()}};var v=function(){return u};var m=function(y){l.onclick=y};var s=function(y){l.className=y};var p=function(y){l.style.width=y};var q=function(y){l.style.height=y};var k=function(y){l.id=y};var w=function(y){l.appendChild(y.getElement())};var j=function(){return l};return{getElement:j,getControlNumber:v,appendControl:w,show:t,hide:o,toggle:n,setWidth:p,setHeight:q,setOnClick:m,setClass:s,setId:k}}})();var h=function(){var i=f();i.setClass("app");return i};var e=(function(){var m=function(){var r=f();r.setText=function(s){r.getElement().innerHTML=s};r.click=function(){var s=document.createEvent("MouseEvents");s.initEvent("click",true,true);r.getElement().dispatchEvent(s)};return r};var o=function(){var r=m();r.setClass("buttonNormal");return r};var i=function(){var r=m();r.setClass("buttonRed");return r};var k=function(){var r=m();r.setClass("buttonBack");return r};var q=function(){var r=m();r.setClass("buttonAdd");r.setText("+");return r};var j=function(){var r=m();r.setClass("buttonGreyLamp");return r};var p=function(){var r=m();r.setClass("buttonGreenLamp");return r};var l=function(){var r=m();r.setClass("buttonOrangeLamp");return r};var n=function(){var r=m();r.setClass("buttonRedLamp");return r};return{normal:o,red:i,back:k,add:q,greyLamp:j,greenLamp:p,orangeLamp:l,redLamp:n}})();var d=function(){var n;var l=f();var j=l.getElement();l.show=function(){l.getElement().style.display="-webkit-box"};l.setClass("titleBar");var m=document.createElement("h1");m.className="flex";l.setText=function(o){m.innerHTML=o};var i=f();i.setClass("rightTitlebarContainer");var k=f();k.setClass("leftTitlebarContainer");l.rightContainer=(function(){var p=function(q){i.getElement().appendChild(q)};var o=function(){i.getElement().innerHTML=""};return{addElement:p,clear:o}})();l.leftContainer=(function(){var p=function(q){k.getElement().appendChild(q)};var o=function(){k.getElement().innerHTML=""};return{addElement:p,clear:o}})();j.appendChild(k.getElement());j.appendChild(m);j.appendChild(i.getElement());return l};var b=function(){var i=f();i.setClass("panel");i.setText=function(j){i.getElement().innerHTML=j};i.show=function(){i.getElement().style.display="-webkit-box"};return i};var c=function(){var m=b();var n="scroll__"+m.getControlNumber();m.setClass("scrollPanel");m.setId(n);m.getElement().style.display="block";var j=m.getElement();var i=b();var k=false;var l=[];m.setText=function(o){i.setText(o)};m.appendControl=function(p){var o=function(){i.getElement().appendChild(p.getElement())};if(k){o()}else{l.push(o)}};m.show=function(){m.getElement().style.display="block";var o=function(){m.scroll.refresh()};if(k){o()}else{l.push(o)}};j.appendChild(i.getElement());document.addEventListener("touchmove",function(o){o.preventDefault()},false);wui.misc.script.loadScript("../lib/iscroll/iscroll-3.7.1.js",function(){m.scroll=new iScroll(i.getElement(),{desktopCompatibility:true});for(var o=l.length-1;o>=0;o--){l[o]();wui.misc.array.remove(l,o)}k=true;m.scroll.refresh()});m.clear=function(){i.getElement().innerHTML=""};m.getElement=function(){return j};return m};var a=(function(){var l=function(n){var m=f("li");m.setText=function(o){m.getElement().innerHTML=o};if(typeof n!=="undefined"){m.setText(n)}return m};var j=function(p){var n=l("li");n.getElement().innerHTML="";n.setClass("hbox");var m=f("div");m.setClass("flex");var o=f("div");o.setClass("arrowLeft");n.setText=function(r){m.getElement().innerHTML=r};if(typeof p!=="undefined"){n.setText(p)}var q=n.getElement();n.getElement=function(){q.appendChild(m.getElement());q.appendChild(o.getElement());return q};return n};var k=function(){var m=f("ul");m.setClass("fullMenu");m.addItem=function(n){m.getElement().appendChild(n.getElement())};m.clear=function(){m.getElement().innerHTML=""};return m};var i=function(){var m=k();m.setClass("roundedMenu");return m};return{listItem:l,arrowListItem:j,fullScreen:k,rounded:i}})();var g=(function(){var i=function(){var q=f("span");var o=f();o.setClass("menuIcon");var n=false;var r="";var p="";var l=document.createElement("a");var m=q.getElement();var k;q.setText=function(s){l.innerHTML=s};q.setPanel=function(s){k=s};q.showPanel=function(){if(k){k.show()}};q.hidePanel=function(){if(k){k.hide()}};q.setIcon=function(s){r=s;if(!n){o.getElement().innerHTML=r}};q.setSelectedIcon=function(s){p=s};q.select=function(){if(p.length>1){o.getElement().innerHTML=p}n=true;q.setClass("menuActive");q.showPanel()};q.deselect=function(){o.getElement().innerHTML=r;n=false;q.setClass("");q.hidePanel()};q.getElement=function(){m.appendChild(o.getElement());m.appendChild(l);return m};q.show=function(){q.getElement().style.display="-webkit-box"};return q};var j=function(){var m=f();var k=m.getElement();m.setClass("menuBar");var l=[];m.setActive=function(o){for(var n=0;n<l.length;n++){l[n].deselect()}o.select()};m.menuTabs=(function(){var n=function(o){o.setOnClick(function(){m.setActive(o)});l.push(o)};return{addTab:n}})();m.getElement=function(){k.innerHTML="";for(var n=0;n<l.length;n++){k.appendChild(l[n].getElement())}return k};return m};return{menuTab:i,menuBar:j}})();return{control:f,app:h,titleBar:d,panel:b,menu:g,buttons:e,scrollablePanel:c,lists:a}})();